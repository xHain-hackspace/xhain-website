{{ if or (eq .Path "/contact") (eq .Path "/") }}
    <script src="/js/maplibre-gl.js"></script>
{{ end }}

{{ partial "script.html" "js/main.js" }}

{{ if eq .Path "/calendar" }}
    {{ partial "script.html" "js/calendar.js" }}
{{ end }}

{{ define "partials/script.html" }}
    {{ $opts := dict
        "minify" (not hugo.IsDevelopment)
        "sourceMap" (cond hugo.IsDevelopment "external" "")
    }}
    {{ with resources.Get . | js.Build $opts | fingerprint }}
        <script src="{{ .RelPermalink }}" defer integrity="{{ .Data.Integrity }}" crossorigin="anonymous"></script>
    {{ end }}
{{ end }}
